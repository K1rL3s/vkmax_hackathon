# Приложение для управления уведомлениями

Этот проект представляет собой комплексное решение для управления задачами, включающее бэкенд API, бота, планировщик и веб-интерфейс на фронтенде. \
Всё приложение контейнеризировано с использованием Docker для упрощения настройки и развертывания.

## Структура проекта

- **/backend**: Содержит бэкенд на Python, включая веб-API FastAPI, бота на `maxo` и планировщик `taskiq`.
- **/frontend**: Содержит фронтенд-приложение на React/TypeScript.
- **docker-compose.yml**: Основной файл Docker Compose для оркестрации всех сервисов.
- **.env.example**: Пример файла переменных окружения с конфигурационными переменными.

## Предварительные требования

- **Docker**: Убедитесь, что Docker установлен и запущен в вашей системе.
- **Docker Compose**: Убедитесь, что у вас установлена версия Docker, которая включает Docker Compose V2.

## Быстрый старт

### 1. Настройка переменных окружения

Приложение требует набор переменных окружения для запуска. Пример файла находится в `.env.example`.

Сначала создайте файл `.env`, скопировав пример:

```bash
cp .env.example .env
```

Затем просмотрите файл `.env` и настройте переменные по мере необходимости. Как минимум, вы можете захотеть изменить пароли и токены. Для локального тестирования достаточно значений по умолчанию.

### 2. Сборка и запуск приложения

При запущенном Docker выполните следующую команду из корневого каталога проекта:

```bash
docker compose up -d --build
```

Эта команда:
- Соберет образы Docker для бэкенд- и фронтенд-сервисов.
- Запустит все сервисы, определенные в `docker-compose.yml`, в отсоединенном режиме (`-d`).
- Создаст и запустит контейнеры для API, бота, планировщика, базы данных (PostgreSQL), Redis и фронтенда (Nginx).

### 3. Доступ к сервисам

После запуска контейнеров вы можете получить доступ к сервисам по следующим портам по умолчанию (которые можно изменить в файле `.env`):

- **Фронтенд-приложение**: [http://localhost:7002](http://localhost:7002)
- **Бэкенд API**: [http://localhost:7001](http://localhost:7001)
- **Документация API (Swagger UI)**: [http://localhost:7001/docs](http://localhost:7001/docs)

### 4. Остановка приложения

Чтобы остановить все запущенные сервисы, используйте команду:

```bash
docker compose down
```

Чтобы остановить и удалить тома (что приведет к удалению всех данных базы данных), используйте:

```bash
docker compose down -v
```

## Локальная разработка (альтернатива)

Для разработчиков, которые хотят запускать сервисы вне Docker, вы можете запускать бэкенд- и фронтенд-приложения непосредственно на вашей хост-машине.

- Инструкции для **бэкенда** см. в `backend/README.md`.
- Инструкции для **фронтенда** см. в `frontend/README.md`.
