{"openapi":"3.1.0","info":{"title":"Таск трекер для МАКС","version":"0.1.0"},"servers":[{"url":"/api"}],"paths":{"/health":{"get":{"tags":["Healthcheck"],"summary":"Check Connection","description":"Проверка соединения","operationId":"check_connection_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth":{"get":{"tags":["Auth"],"summary":"Check Init Data","description":"Валидация WebAppData из MAX","operationId":"check_init_data_auth_get","parameters":[{"name":"WebAppData","in":"query","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebAppInitData"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me":{"get":{"tags":["Users"],"summary":"Get User By Id Route","description":"Получить пользователя. Можно только самого себя.","operationId":"get_user_by_id_route_users_me_get","parameters":[{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/":{"patch":{"tags":["Users"],"summary":"Update User Route","description":"Редактировать пользователя. Можно только самого себя.","operationId":"update_user_route_users__patch","parameters":[{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me/groups/personal":{"get":{"tags":["Users"],"summary":"Get Personal Group Route","description":"Получить персональную группу пользователя.","operationId":"get_personal_group_route_users_me_groups_personal_get","parameters":[{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonalGroupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me/groups":{"get":{"tags":["Users"],"summary":"List User Groups Route","description":"Получить список групп, в которых состоит пользователь. Можно только свои группы.","operationId":"list_user_groups_route_users_me_groups_get","parameters":[{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserGroupsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me/events":{"get":{"tags":["Users"],"summary":"List Personal Events Route","operationId":"list_personal_events_route_users_me_events_get","parameters":[{"name":"tag_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Список ID тегов через запятую для фильтрации","title":"Tag Ids"},"description":"Список ID тегов через запятую для фильтрации"},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventResponse"},"title":"Response List Personal Events Route Users Me Events Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/{user_id}/groups/{group_id}/tags":{"get":{"tags":["Users"],"summary":"List User Tags Route","description":"Получить список тегов пользователя в рамках группы","operationId":"list_user_tags_route_users__user_id__groups__group_id__tags_get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TagResponse"},"title":"Response List User Tags Route Users  User Id  Groups  Group Id  Tags Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/{user_id}/groups/{group_id}/events":{"get":{"tags":["Users"],"summary":"List User Events Route","description":"Получить список событий пользователя в рамках группы","operationId":"list_user_events_route_users__user_id__groups__group_id__events_get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"tag_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Список ID тегов через запятую для фильтрации","title":"Tag Ids"},"description":"Список ID тегов через запятую для фильтрации"},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventResponse"},"title":"Response List User Events Route Users  User Id  Groups  Group Id  Events Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/groups":{"post":{"tags":["Groups"],"summary":"Create Group Route","description":"Создание группы. Может кто угодно.","operationId":"create_group_route_groups_post","parameters":[{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetGroupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/groups/{group_id}":{"patch":{"tags":["Groups"],"summary":"Update Group Route","description":"Редактирование группы. Может только \"Босс\".","operationId":"update_group_route_groups__group_id__patch","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetGroupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Groups"],"summary":"Get Group","description":"Получить группу. Могут только участники группы.","operationId":"get_group_groups__group_id__get","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetGroupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Groups"],"summary":"Delete Group Route","description":"Удалить группы. Может только \"Босс\".","operationId":"delete_group_route_groups__group_id__delete","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/groups/{group_id}/users/{slave_id}":{"patch":{"tags":["Groups"],"summary":"Update Group Membership Route","description":"Смена роли юзера в группе. Может только \"Босс\".","operationId":"update_group_membership_route_groups__group_id__users__slave_id__patch","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"slave_id","in":"path","required":true,"schema":{"type":"integer","title":"Slave Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupMemberUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupMemberResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Groups"],"summary":"Remove Group Member Route","description":"Удаление участника из группы.\n\"Босс\" может удалить всех, \"Начальник\" не может удалить \"Босса\"","operationId":"remove_group_member_route_groups__group_id__users__slave_id__delete","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"slave_id","in":"path","required":true,"schema":{"type":"integer","title":"Slave Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/groups/{group_id}/users/{member_id}":{"get":{"tags":["Groups"],"summary":"Get Group User Route","description":"Получить участника группы. Могут только участники группы.","operationId":"get_group_user_route_groups__group_id__users__member_id__get","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"member_id","in":"path","required":true,"schema":{"type":"integer","title":"Member Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupUserItem"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/groups/{group_id}/users":{"get":{"tags":["Groups"],"summary":"List Group Users Route","description":"Получить всех пользователей группы. Могут только участники группы.","operationId":"list_group_users_route_groups__group_id__users_get","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GroupUserItem"},"title":"Response List Group Users Route Groups  Group Id  Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/groups/{group_id}/invite":{"get":{"tags":["Groups"],"summary":"Get Invite Route","description":"Получит ссылку-приглашение в группу.\nВ группе может быть только одно активное приглашение.","operationId":"get_invite_route_groups__group_id__invite_get","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InviteGetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Groups"],"summary":"Create Invite Route","description":"Создать (перевыпустить) приглашение в группу.\nВ группе может быть только одно активное приглашение.","operationId":"create_invite_route_groups__group_id__invite_post","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InviteCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Groups"],"summary":"Delete Invite Route","description":"Удалить приглашение в группу.\nВ группе может быть только одно активное приглашение, поэтому удалится оно.","operationId":"delete_invite_route_groups__group_id__invite_delete","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/groups/{group_id}/notify":{"patch":{"tags":["Groups"],"summary":"Update Group Notify Mode","description":"Изменить режим уведомлений в группе для самого себя.","operationId":"update_group_notify_mode_groups__group_id__notify_patch","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupNotifyModeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupMemberResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/groups/{group_id}/tags":{"post":{"tags":["Tags"],"summary":"Create Tag Route","description":"Создать тег. Могут только \"Босс\" и \"Начальник\".","operationId":"create_tag_route_groups__group_id__tags_post","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Tags"],"summary":"List Group Tags Route","description":"Получить все теги группы. Могут только участники группы.","operationId":"list_group_tags_route_groups__group_id__tags_get","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TagResponse"},"title":"Response List Group Tags Route Groups  Group Id  Tags Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/groups/{group_id}/tags/{tag_id}":{"patch":{"tags":["Tags"],"summary":"Update Tag Route","description":"Редактировать тег. Могут только \"Босс\" и \"Начальник\".","operationId":"update_tag_route_groups__group_id__tags__tag_id__patch","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"tag_id","in":"path","required":true,"schema":{"type":"integer","title":"Tag Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Tags"],"summary":"Delete Tag Route","description":"Удалить тег. Могут только \"Босс\" и \"Начальник\".","operationId":"delete_tag_route_groups__group_id__tags__tag_id__delete","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"tag_id","in":"path","required":true,"schema":{"type":"integer","title":"Tag Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/groups/{group_id}/tags/users":{"post":{"tags":["Tags"],"summary":"Assign Tag To User Route","description":"Добавить (назначить, привязать) тег пользователю.\nМогут только \"Босс\" и \"Начальник\".","operationId":"assign_tag_to_user_route_groups__group_id__tags_users_post","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagAssignRequest"}}}},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/groups/{group_id}/tags/users/{user_id}/{tag_id}":{"delete":{"tags":["Tags"],"summary":"Remove Tag From User Route","description":"Удалить (отвязать) тег у пользователя.\nМогут только \"Босс\" и \"Начальник\".","operationId":"remove_tag_from_user_route_groups__group_id__tags_users__user_id___tag_id__delete","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"tag_id","in":"path","required":true,"schema":{"type":"integer","title":"Tag Id"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/groups/{group_id}/tags/{tag_id}/users":{"get":{"tags":["Tags"],"summary":"List Tag Users Route","description":"Получить список пользователей, у которых есть тег.\nМогут только участники группы.","operationId":"list_tag_users_route_groups__group_id__tags__tag_id__users_get","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"tag_id","in":"path","required":true,"schema":{"type":"integer","title":"Tag Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TagUserItem"},"title":"Response List Tag Users Route Groups  Group Id  Tags  Tag Id  Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events":{"post":{"tags":["Events"],"summary":"Create Event Route","description":"Создать событие (встреча или сообщение) в группе.\nМогут только \"Босс\" и \"Начальник\".","operationId":"create_event_route_events_post","parameters":[{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/{event_id}/tags":{"post":{"tags":["Events"],"summary":"Add Tag To Event Route","description":"Добавить тег для события. Могут только \"Босс\" и \"Начальник\".","operationId":"add_tag_to_event_route_events__event_id__tags_post","parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"integer","title":"Event Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventAddTagRequest"}}}},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/{event_id}":{"get":{"tags":["Events"],"summary":"Get Event Route","description":"Получить событие. Могут только участники события.","operationId":"get_event_route_events__event_id__get","parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"integer","title":"Event Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventDetailsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Events"],"summary":"Update Event Route","description":"Редактировать событие. Могут только \"Босс\" и \"Начальник\".","operationId":"update_event_route_events__event_id__patch","parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"integer","title":"Event Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Events"],"summary":"Delete Event Route","description":"Удалить событие. Могут только \"Босс\" и \"Начальник\".","operationId":"delete_event_route_events__event_id__delete","parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"integer","title":"Event Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/{event_id}/users":{"post":{"tags":["Events"],"summary":"Add User To Event Route","description":"Добавить (привязать) пользователя в событие.\nМогут только \"Босс\" и \"Начальник\".","operationId":"add_user_to_event_route_events__event_id__users_post","parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"integer","title":"Event Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventAddUserRequest"}}}},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/groups/{group_id}":{"get":{"tags":["Events"],"summary":"Get Group Events Route","description":"Просмотр всех событий группы, в которых пользователь принимает участие","operationId":"get_group_events_route_events_groups__group_id__get","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"tag_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Список ID тегов через запятую для фильтрации","title":"Tag Ids"},"description":"Список ID тегов через запятую для фильтрации"},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/":{"get":{"tags":["Events"],"summary":"Get User Events Route","description":"Просмотр всех своих событий во всех группах.","operationId":"get_user_events_route_events__get","parameters":[{"name":"tag_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Список ID тегов через запятую для фильтрации","title":"Tag Ids"},"description":"Список ID тегов через запятую для фильтрации"},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/import/ics":{"post":{"tags":["Events"],"summary":"Import Ics Route","description":"Импортировать события из .ics файла в личную группу пользователя","operationId":"import_ics_route_events_import_ics_post","parameters":[{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_ics_route_events_import_ics_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/export/all-groups":{"get":{"tags":["Events"],"summary":"Export User Events All Groups Route","description":"Выгрузить все события группы, в которых участвует пользователь, во всех группах","operationId":"export_user_events_all_groups_route_events_export_all_groups_get","parameters":[{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/export/groups/{group_id}/user":{"get":{"tags":["Events"],"summary":"Export User Events In Group Route","description":"Выгрузить все события пользователя в рамках одной группы","operationId":"export_user_events_in_group_route_events_export_groups__group_id__user_get","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/export/groups/{group_id}/all":{"get":{"tags":["Events"],"summary":"Export All Group Events Route","description":"Выгрузить все события группы (только для ролей 1 и 2)","operationId":"export_all_group_events_route_events_export_groups__group_id__all_get","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"WebAppData","in":"header","required":true,"schema":{"type":"string","title":"Webappdata"}}],"responses":{"200":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_import_ics_route_events_import_ics_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":".ics файл для импорта"}},"type":"object","required":["file"],"title":"Body_import_ics_route_events_import_ics_post"},"CronSchema":{"properties":{"date":{"type":"string","format":"date-time","title":"Date"},"everyDay":{"type":"boolean","title":"Everyday","default":false},"everyWeek":{"type":"boolean","title":"Everyweek","default":false},"everyMonth":{"type":"boolean","title":"Everymonth","default":false}},"type":"object","required":["date"],"title":"CronSchema"},"EventAddTagRequest":{"properties":{"tagIds":{"items":{"type":"integer"},"type":"array","title":"Tagids"}},"type":"object","required":["tagIds"],"title":"EventAddTagRequest"},"EventAddUserRequest":{"properties":{"userIds":{"items":{"type":"integer"},"type":"array","title":"Userids"}},"type":"object","required":["userIds"],"title":"EventAddUserRequest"},"EventCreateRequest":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"type":{"type":"string","const":"event","title":"Type","description":"Тип события","default":"event"},"cron":{"$ref":"#/components/schemas/CronSchema"},"groupId":{"type":"integer","title":"Groupid"},"duration":{"type":"integer","title":"Duration","default":0},"participantsIds":{"items":{"type":"integer"},"type":"array","title":"Participantsids","description":"Упомянаемые пользователи"},"tagsIds":{"items":{"type":"integer"},"type":"array","title":"Tagsids","description":"Привязанные теги"},"minutesBefore":{"items":{"type":"integer"},"type":"array","title":"Minutesbefore"}},"type":"object","required":["title","cron","groupId"],"title":"EventCreateRequest"},"EventDetailsResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"cron":{"type":"string","title":"Cron"},"isCycle":{"type":"boolean","title":"Iscycle"},"type":{"type":"string","enum":["event","message"],"title":"Type"},"creatorId":{"type":"integer","title":"Creatorid"},"group":{"$ref":"#/components/schemas/GroupResponse"},"tags":{"items":{"$ref":"#/components/schemas/TagResponse"},"type":"array","title":"Tags"},"notifies":{"items":{"$ref":"#/components/schemas/EventNotifyResponse"},"type":"array","title":"Notifies"},"duration":{"type":"integer","title":"Duration","default":0},"eventHappened":{"type":"boolean","title":"Eventhappened","default":false}},"type":"object","required":["id","title","cron","isCycle","type","creatorId","group","tags","notifies"],"title":"EventDetailsResponse"},"EventNotifyResponse":{"properties":{"minutesBefore":{"type":"integer","title":"Minutesbefore"}},"type":"object","required":["minutesBefore"],"title":"EventNotifyResponse"},"EventResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"cron":{"type":"string","title":"Cron"},"isCycle":{"type":"boolean","title":"Iscycle"},"type":{"type":"string","title":"Type"},"creatorId":{"type":"integer","title":"Creatorid"},"groupId":{"type":"integer","title":"Groupid"},"duration":{"type":"integer","title":"Duration","default":0},"eventHappened":{"type":"boolean","title":"Eventhappened","default":false},"respond":{"anyOf":[{"$ref":"#/components/schemas/RespondResponse"},{"type":"null"}]},"notifies":{"items":{"type":"integer"},"type":"array","title":"Notifies"}},"type":"object","required":["id","title","cron","isCycle","type","creatorId","groupId"],"title":"EventResponse"},"EventUpdateRequest":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"},"cron":{"anyOf":[{"$ref":"#/components/schemas/CronSchema"},{"type":"null"}]},"duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration"},"participantsIds":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Participantsids"},"tagsIds":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Tagsids"}},"type":"object","title":"EventUpdateRequest"},"EventsResponse":{"properties":{"events":{"items":{"$ref":"#/components/schemas/EventResponse"},"type":"array","title":"Events"}},"type":"object","required":["events"],"title":"EventsResponse"},"GetGroupResponse":{"properties":{"group":{"$ref":"#/components/schemas/GroupResponse"},"role":{"$ref":"#/components/schemas/RoleResponse"}},"type":"object","required":["group","role"],"title":"GetGroupResponse"},"GroupCreateRequest":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"GroupCreateRequest"},"GroupMemberResponse":{"properties":{"userId":{"type":"integer","title":"Userid"},"groupId":{"type":"integer","title":"Groupid"},"roleId":{"type":"integer","title":"Roleid"},"notifyMode":{"$ref":"#/components/schemas/NotifyMode"}},"type":"object","required":["userId","groupId","roleId","notifyMode"],"title":"GroupMemberResponse"},"GroupMemberUpdateRequest":{"properties":{"roleId":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Roleid","description":"Идентификатор роли","examples":[1,2,3]},"tags":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Список идентификаторов тегов"}},"type":"object","title":"GroupMemberUpdateRequest"},"GroupNotifyModeRequest":{"properties":{"notifyMode":{"$ref":"#/components/schemas/NotifyMode"}},"type":"object","required":["notifyMode"],"title":"GroupNotifyModeRequest"},"GroupResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["id","name"],"title":"GroupResponse"},"GroupUpdateRequest":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"GroupUpdateRequest"},"GroupUserItem":{"properties":{"userId":{"type":"integer","title":"Userid"},"groupId":{"type":"integer","title":"Groupid"},"role":{"$ref":"#/components/schemas/RoleResponse"},"maxId":{"type":"integer","title":"Maxid"},"firstName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Firstname"},"lastName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lastname"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"}},"type":"object","required":["userId","groupId","role","maxId"],"title":"GroupUserItem"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"InviteCreateResponse":{"properties":{"inviteKey":{"type":"string","title":"Invitekey"},"inviteLink":{"type":"string","title":"Invitelink"}},"type":"object","required":["inviteKey","inviteLink"],"title":"InviteCreateResponse"},"InviteGetResponse":{"properties":{"inviteKey":{"type":"string","title":"Invitekey"},"inviteLink":{"type":"string","title":"Invitelink"}},"type":"object","required":["inviteKey","inviteLink"],"title":"InviteGetResponse"},"NotifyMode":{"type":"string","enum":["DEFAULT","SILENT","DISABLE"],"title":"NotifyMode"},"PersonalGroupResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","const":"Личная","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["id","name"],"title":"PersonalGroupResponse"},"RespondResponse":{"properties":{"id":{"type":"integer","title":"Id"},"status":{"type":"string","title":"Status"}},"type":"object","required":["id","status"],"title":"RespondResponse"},"RoleResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","enum":["Босс","Начальник","Участник"],"title":"Name","examples":["Босс"]}},"type":"object","required":["id","name"],"title":"RoleResponse"},"TagAssignRequest":{"properties":{"userId":{"type":"integer","title":"Userid"},"tagId":{"type":"integer","title":"Tagid"}},"type":"object","required":["userId","tagId"],"title":"TagAssignRequest"},"TagCreateRequest":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"color":{"type":"string","title":"Color"}},"type":"object","required":["name","color"],"title":"TagCreateRequest"},"TagResponse":{"properties":{"id":{"type":"integer","title":"Id"},"groupId":{"type":"integer","title":"Groupid"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"color":{"type":"string","title":"Color"}},"type":"object","required":["id","groupId","name","color"],"title":"TagResponse"},"TagUpdateRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"}},"type":"object","title":"TagUpdateRequest"},"TagUserItem":{"properties":{"userId":{"type":"integer","title":"Userid"},"maxId":{"type":"integer","title":"Maxid"},"firstName":{"type":"string","title":"Firstname"},"lastName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lastname"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"roleId":{"type":"integer","title":"Roleid"}},"type":"object","required":["userId","maxId","firstName","roleId"],"title":"TagUserItem"},"UserGroupItem":{"properties":{"groupId":{"type":"integer","title":"Groupid"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"roleId":{"type":"integer","title":"Roleid"}},"type":"object","required":["groupId","name","roleId"],"title":"UserGroupItem"},"UserGroupsResponse":{"properties":{"groups":{"items":{"$ref":"#/components/schemas/UserGroupItem"},"type":"array","title":"Groups"}},"type":"object","required":["groups"],"title":"UserGroupsResponse"},"UserResponse":{"properties":{"id":{"type":"integer","title":"Id"},"maxId":{"type":"integer","title":"Maxid"},"maxChatId":{"type":"integer","title":"Maxchatid"},"maxPhoto":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Maxphoto"},"firstName":{"type":"string","title":"Firstname"},"lastName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lastname"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"timezone":{"type":"integer","title":"Timezone"},"notifyMode":{"$ref":"#/components/schemas/NotifyMode"}},"type":"object","required":["id","maxId","maxChatId","firstName","timezone","notifyMode"],"title":"UserResponse"},"UserUpdateRequest":{"properties":{"firstName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Firstname"},"lastName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lastname"},"photo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Photo"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"timezone":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Timezone"},"notifyMode":{"anyOf":[{"$ref":"#/components/schemas/NotifyMode"},{"type":"null"}]}},"type":"object","title":"UserUpdateRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WebAppChat":{"properties":{"id":{"type":"integer","title":"Id"},"type":{"type":"string","title":"Type"}},"type":"object","required":["id","type"],"title":"WebAppChat"},"WebAppInitData":{"properties":{"ip":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip"},"query_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query Id"},"chat":{"$ref":"#/components/schemas/WebAppChat"},"user":{"$ref":"#/components/schemas/WebAppUser"},"auth_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Auth Date"},"hash":{"type":"string","title":"Hash"},"start_param":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Param"}},"type":"object","required":["chat","user","hash"],"title":"WebAppInitData"},"WebAppUser":{"properties":{"id":{"type":"integer","title":"Id"},"first_name":{"type":"string","title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"language_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language Code"},"photo_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Photo Url"}},"type":"object","required":["id","first_name"],"title":"WebAppUser"}}},"tags":[{"name":"Auth","description":"Роут для проверки WebAppData при запуске мини-аппа"},{"name":"Healthcheck","description":"Роут для проверки соединения приложения с базой данных"}]}